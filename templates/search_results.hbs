
{{> _header}}

<main class="min-h-screen bg-gradient-to-br from-background via-background to-gray-50">
  <div class="container mx-auto px-4 py-8 max-w-6xl">
    
    <!-- Search Header -->
    <div class="mb-8">
      <h1 class="text-4xl font-bold mb-4">Resultados de b√∫squeda</h1>
      {{#if query}}
      <p class="text-lg text-gray-600">
        Mostrando resultados para: <strong>"{{query}}"</strong>
      </p>
      {{/if}}
      
      {{#if results_count}}
      <p class="text-sm text-gray-500 mt-2">
        {{results_count}} resultados encontrados
      </p>
      {{/if}}
    </div>

    <!-- Search Form -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
      <form action="/hc/es/search" method="get" class="flex gap-4">
        <input 
          type="search" 
          name="query" 
          value="{{query}}" 
          placeholder="Buscar art√≠culos de ayuda..." 
          class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        >
        <button 
          type="submit" 
          class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors"
        >
          Buscar
        </button>
      </form>
    </div>

    <!-- Search Results -->
    {{#if results}}
    <div class="space-y-6">
      {{#each results}}
      <article class="bg-white rounded-lg shadow-md p-6">
        <div class="flex items-start justify-between mb-3">
          <div class="flex items-center gap-2">
            <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full">
              {{section.name}}
            </span>
            {{#if promoted}}
            <span class="text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full">
              Destacado
            </span>
            {{/if}}
          </div>
          
          {{#if vote_sum}}
          <span class="text-sm text-gray-500">{{vote_sum}} üëç</span>
          {{/if}}
        </div>
        
        <h3 class="text-xl font-semibold mb-3">
          <a href="{{url}}" class="hover:text-blue-600 transition-colors">{{title}}</a>
        </h3>
        
        {{#if snippet}}
        <div class="text-gray-600 mb-4">
          <div>{{snippet}}</div>
        </div>
        {{/if}}
        
        <div class="flex items-center justify-between text-sm text-gray-500">
          <div class="flex items-center gap-4">
            {{#if updated_at}}
            <span>Actualizado {{updated_at}}</span>
            {{/if}}
            {{#if author}}
            <span>Por {{author.name}}</span>
            {{/if}}
          </div>
          
          <a href="{{url}}" class="text-blue-600 hover:text-blue-800 font-medium">
            Leer m√°s ‚Üí
          </a>
        </div>
      </article>
      {{/each}}
    </div>

    <!-- Pagination -->
    {{#if (gt page_count 1)}}
    <div class="flex justify-center mt-8">
      <nav class="flex items-center gap-2">
        {{#unless (eq current_page 1)}}
        <a href="?query={{query}}&page={{prev_page}}" class="px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50">
          ‚Üê Anterior
        </a>
        {{/unless}}
        
        {{#each pages}}
        {{#if current}}
        <span class="px-3 py-2 bg-blue-600 text-white rounded-md">{{number}}</span>
        {{else}}
        <a href="?query={{query}}&page={{number}}" class="px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50">{{number}}</a>
        {{/if}}
        {{/each}}
        
        {{#unless (eq current_page page_count)}}
        <a href="?query={{query}}&page={{next_page}}" class="px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50">
          Siguiente ‚Üí
        </a>
        {{/unless}}
      </nav>
    </div>
    {{/if}}
    {{else}}
    <!-- No Results -->
    <div class="text-center py-12">
      <div class="text-6xl mb-4">üîç</div>
      <h2 class="text-2xl font-bold mb-4">No se encontraron resultados</h2>
      <p class="text-gray-600 mb-8">
        {{#if query}}
        No encontramos art√≠culos que coincidan con "<strong>{{query}}</strong>".
        {{else}}
        Ingresa un t√©rmino de b√∫squeda para encontrar art√≠culos de ayuda.
        {{/if}}
      </p>
      
      <div class="max-w-md mx-auto">
        <h3 class="font-semibold mb-4">Sugerencias:</h3>
        <ul class="text-left text-gray-600 space-y-2">
          <li>‚Ä¢ Intenta con palabras clave diferentes</li>
          <li>‚Ä¢ Usa t√©rminos m√°s generales</li>
          <li>‚Ä¢ Revisa la ortograf√≠a</li>
          <li>‚Ä¢ Explora nuestras categor√≠as</li>
        </ul>
      </div>
    </div>
    {{/if}}

  </div>
</main>

{{> _footer}}
